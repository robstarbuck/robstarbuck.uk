<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <title>Web-components and slotted element interactions | robstarbuck.uk</title>
  <link rel="preconnect" href="https://rsms.me/">
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  <link rel="stylesheet" href="/font.css">

  <link rel="stylesheet" href="/minireset.css">
  <link rel="stylesheet" href="/vertical-rhythm.css">
  <link rel="stylesheet" href="/index.css">
  <link rel="stylesheet" href="/highlight-js/robstarbuck.uk.css">

  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=.75">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  
  <script type="module" src="https://cdn.jsdelivr.net/gh/robstarbuck/lib.robstarbuck.uk@release/mouse-parallax.js"></script>
  

  <script defer="" src="/scripts/back-button.js"></script>

</head>
<body>
  <nav>
    <a href="/">
      robstarbuck.uk
    </a>
  </nav>
  <main>
  <h2>Web-components and slotted element interactions</h2>
  <p><strong>Back in 2010 one of my first websites <a href="http://employboy.com/" target="_blank">Employboy</a> featured a parallax effect applied to a floating head. It used JS to explicitly set the position of the inner and outer shapes. Here I'm going to do a run-through of how I modernised this approach using web-components and SVGs.</strong></p>
<p>First of all let's take a peek at what we're working towards, please welcome into the public domain our little friend "Mockey". Moving your mouse cursor over around the image should produce a parallax effect.</p>
<p><div class="custom" style="--breakout-link-color: #6BB46E"><lib-mouse-parallax speed="0.1" data-breakout-url="mockey-demo" data-breakout-class="full-page-svg" data-breakout-button-color="#6BB46E" foreground="#mockey-mouse" middleground="#title" background="#overline-title, #title-backing">
<svg width="100%" height="100%" viewbox="0 0 520 390" style="background:#FFFDEA;">
<rect x="0" y="-0" width="520" height="390" style="fill:#FEFAD2;stroke:#FFFDEA;stroke-width:20px;"></rect>
<ellipse cx="260" cy="382.062" rx="433.446" ry="137.471" style="fill:#8AD68F;"></ellipse>
<rect id="title-backing" x="125.042" y="72.212" width="269.916" height="89.519" style="fill:rgb(255,204,3);"></rect>
<g id="title">
<path d="M184.241,94.088C184.241,91.84 183.776,91.608 180.676,90.057C177.963,88.74 172.073,87.5 170.6,87.5C169.283,87.5 168.818,87.655 168.818,89.592C168.818,90.6 166.803,97.188 165.873,101.218C165.098,104.473 164.168,112.611 163.238,112.611C162.463,112.611 162.695,108.581 161.533,104.163C160.37,99.745 160.06,92.925 159.207,92.615C158.2,92.228 151.225,90.445 148.59,90.445C145.567,90.445 143.397,92.073 143.397,94.63C143.397,101.45 142.777,106.566 142.777,122.299C142.777,133.149 142.854,135.939 143.087,138.574C143.242,140.279 143.319,141.054 144.094,141.674C145.567,142.837 150.14,144.387 151.845,144.387C153.55,144.387 153.937,144.077 153.937,143.069C153.937,120.361 153.007,113.308 153.007,112.456C153.007,111.061 153.317,110.518 153.627,110.518C154.092,110.518 154.402,110.983 154.79,114.316C155.565,120.749 158.665,136.404 159.517,137.257C160.37,138.187 163.858,138.807 165.873,138.807C166.648,138.807 167.81,131.677 168.275,130.359C168.973,128.576 171.065,119.276 172.538,110.673C172.77,109.356 173.003,108.193 173.468,108.193C173.778,108.193 173.856,109.123 173.856,110.363C173.856,112.611 172.46,134.544 172.46,141.597C172.46,143.379 178.273,144.387 180.133,144.387C183.388,144.387 183.621,143.844 183.698,142.449C183.931,137.567 184.241,129.274 184.241,115.866L184.241,94.088Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M192.534,119.664C192.534,127.104 194.704,132.684 197.339,136.714C199.974,140.744 202.842,143.457 207.414,143.457C208.809,143.457 209.662,143.534 210.669,143.844C211.599,144.155 212.607,144.387 214.157,144.387C216.637,144.387 220.125,142.217 222.682,138.264C226.712,131.987 229.193,124.546 229.193,115.401C229.193,110.363 228.185,102.225 224.775,97.265C221.597,92.538 220.047,91.143 216.172,89.825C212.219,88.507 208.344,87.5 207.259,87.5C202.222,87.5 199.354,93.468 196.874,98.893C194.626,103.62 192.534,111.371 192.534,119.664ZM205.554,120.051C205.554,111.526 210.282,98.97 211.599,98.97C214.545,98.97 216.172,107.961 216.172,112.146C216.172,119.664 213.77,133.227 209.662,133.227C207.802,133.227 205.554,130.514 205.554,120.051Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M234.928,120.129C234.928,134.079 242.446,144.387 253.529,144.387C260.271,144.387 264.301,141.209 266.161,137.644C267.557,134.932 269.649,130.591 269.649,126.871C269.649,125.244 268.797,124.159 267.092,123.229C265.619,122.376 264.224,121.446 262.596,121.446C260.659,121.446 260.349,121.989 259.961,123.771C259.806,124.701 256.009,133.072 251.436,133.072C249.033,133.072 247.328,129.274 247.328,122.919C247.328,121.446 248.181,115.633 249.731,110.363C251.281,105.016 252.676,99.9 253.916,99.9C254.846,99.9 255.079,100.675 255.156,102.225C255.466,106.333 255.776,108.271 256.474,109.743C257.714,112.688 258.566,113.308 261.589,113.308C262.286,113.308 264.921,113.153 266.084,112.533C266.859,112.146 266.937,109.666 266.937,107.961C266.937,104.085 266.626,100.985 265.774,97.11C265.309,94.94 263.139,91.143 261.976,90.135C260.349,88.662 256.164,87.5 250.583,87.5C246.088,87.5 245.468,88.197 240.663,97.575C238.57,101.605 234.928,112.688 234.928,120.129Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M277.322,122.376C277.477,136.094 276.624,137.799 276.624,139.349C276.624,140.434 279.259,141.984 280.655,142.372C284.917,143.379 285.46,144.387 287.707,144.387C288.947,144.387 289.645,142.217 289.645,133.614C289.645,129.351 289.335,127.026 289.257,126.019C289.412,125.011 289.645,124.546 289.955,124.546C290.497,124.546 291.505,127.801 294.063,131.444C297.395,136.249 301.813,142.992 304.68,142.992C305.843,142.992 309.796,139.272 309.796,136.869C309.796,134.079 300.65,119.199 300.65,117.493C300.65,114.936 311.268,93.39 311.268,92.383C311.268,91.995 308.943,89.825 308.013,89.205C305.92,87.81 304.99,85.64 303.285,85.64C302.433,85.64 301.193,87.655 297.163,95.405C294.14,101.218 290.265,111.448 289.722,111.448C289.49,111.448 289.335,111.371 289.335,110.751C289.335,109.588 290.11,106.101 290.11,96.18C290.11,92.228 289.257,91.143 287.862,90.6C287.01,90.212 278.949,88.895 278.252,88.895C277.632,88.895 276.934,90.057 276.934,90.755C276.934,91.685 277.012,92.925 277.089,97.808L277.322,122.376Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M331.496,110.906C330.489,110.906 330.101,110.673 330.101,109.743C330.101,108.193 330.256,105.248 330.489,102.613C330.566,101.76 330.799,101.605 331.574,101.605C332.814,101.605 341.029,100.753 344.749,100.288C345.369,100.21 345.524,99.978 345.524,99.28C345.524,96.413 345.059,94.94 343.974,92.383C342.657,89.437 338.317,89.205 333.279,89.205C328.319,89.205 323.126,89.36 319.949,89.36C319.173,89.36 318.786,89.747 318.786,92.073C318.786,97.73 317.701,112.378 317.701,125.786C317.701,128.886 317.778,131.909 317.856,135.707C317.933,138.497 319.251,140.822 320.336,141.674C322.041,142.992 324.056,144.387 325.141,144.387C326.304,144.387 335.759,142.217 341.339,141.597C344.827,141.209 345.292,140.977 345.292,140.357C345.292,137.024 344.982,136.017 343.044,133.614C340.952,130.979 340.719,130.746 338.549,130.746C334.519,130.746 332.116,130.979 331.031,130.979C330.334,130.979 330.101,130.902 330.101,130.126C330.101,129.584 330.024,128.576 330.024,124.314C330.024,123.694 330.256,123.384 330.876,123.306C333.124,122.996 336.844,122.299 342.114,121.524C343.742,121.214 343.974,120.981 343.974,119.276C343.974,115.556 343.742,115.246 342.269,112.998C341.107,111.216 340.099,110.906 332.814,110.906L331.496,110.906Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M373.116,126.949C373.193,124.701 384.973,96.025 384.973,90.367C384.973,87.035 377.688,85.64 376.836,85.64C375.906,85.64 375.131,86.105 374.588,87.19C371.643,92.925 367.69,108.581 366.838,108.581C366.295,108.581 365.055,103.853 361.878,96.645C360.483,93.468 358.235,91.53 355.91,91.53C354.825,91.53 350.097,93.545 350.097,95.483C350.097,97.265 352.267,105.248 353.895,110.208C355.987,116.408 357.847,120.826 360.56,125.321L360.328,140.744C360.328,142.062 360.638,142.682 362.963,143.147C364.048,143.379 366.45,144.387 368.775,144.387C370.558,144.387 372.263,144.077 372.34,143.147L373.116,126.949Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
</g>
<g id="overline-title">
<path d="M134.292,42.705C134.292,42.111 134.109,41.494 133.812,41.015C133.264,40.124 133.561,40.17 132.396,40.124C131.209,40.124 128.308,40.444 127.121,40.626C125.933,40.809 125.042,40.969 125.042,41.472C125.042,42.271 125.271,43.025 125.43,43.596C125.522,43.961 126.024,43.893 127.417,44.007C127.691,44.03 127.76,44.052 127.76,44.897C127.76,45.743 127.714,46.702 127.714,48.78C127.714,50.881 127.76,52.32 127.76,53.051C127.76,53.85 127.714,54.604 127.714,55.472C127.714,55.997 128.148,56.157 128.605,56.271C129.998,56.637 130.341,56.888 130.569,56.888C130.82,56.888 131.369,56.5 131.369,56.249C131.369,52.046 131.414,49.739 131.414,48.689C131.414,45.423 131.529,44.464 131.529,44.007C131.529,43.824 131.94,43.778 132.579,43.618C133.721,43.344 134.292,43.299 134.292,42.705Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M141.966,53.005C141.966,54.079 142.126,54.696 142.263,55.563C142.4,56.34 143.565,56.523 144.296,56.523C145.072,56.523 145.598,56.477 145.62,56.066C145.666,55.449 145.757,49.739 145.757,46.656L145.757,40.946C145.757,40.375 145.415,40.261 145.118,40.078C144.798,39.85 144.456,39.576 143.839,39.576C143.428,39.576 143.062,39.622 142.651,39.622C142.103,39.622 141.966,39.759 141.966,40.764C141.966,41.266 142.103,43.459 142.103,46.131C142.103,46.473 142.035,46.61 142.012,46.702C141.966,46.884 140.436,46.976 140.116,46.976C139.979,46.976 139.911,46.839 139.911,46.451L139.911,43.664C139.911,41.517 139.911,41.197 139.774,41.015C139.614,40.786 138.152,40.307 137.535,40.307C137.353,40.307 136.736,40.467 136.553,40.489C136.37,40.512 136.302,40.649 136.302,40.832C136.302,42.202 136.211,43.002 136.211,43.938C136.211,45.034 136.256,45.72 136.256,47.844C136.256,48.849 136.142,50.721 136.211,53.485C136.256,55.107 136.37,55.838 136.941,56.249C137.284,56.5 138.266,56.888 139.066,56.888C139.751,56.888 139.933,56.842 139.933,56.751C140.048,55.244 140.093,53.873 140.093,50.973C140.093,50.493 140.139,50.425 140.299,50.425C140.459,50.425 141.03,50.31 141.555,50.31C141.92,50.31 141.966,50.402 141.966,50.813L141.966,53.005Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M153.317,47.022C153.02,47.022 152.906,46.953 152.906,46.679C152.906,46.222 152.952,45.354 153.02,44.578C153.043,44.326 153.112,44.281 153.34,44.281C153.706,44.281 156.127,44.03 157.223,43.893C157.406,43.87 157.451,43.801 157.451,43.596C157.451,42.751 157.314,42.317 156.994,41.563C156.606,40.695 155.327,40.626 153.843,40.626C152.381,40.626 150.851,40.672 149.914,40.672C149.686,40.672 149.572,40.786 149.572,41.472C149.572,43.139 149.252,47.455 149.252,51.407C149.252,52.32 149.275,53.211 149.298,54.33C149.32,55.152 149.709,55.838 150.028,56.089C150.531,56.477 151.125,56.888 151.444,56.888C151.787,56.888 154.573,56.249 156.218,56.066C157.246,55.952 157.383,55.883 157.383,55.7C157.383,54.718 157.291,54.421 156.72,53.713C156.104,52.937 156.035,52.868 155.396,52.868C154.208,52.868 153.5,52.937 153.18,52.937C152.975,52.937 152.906,52.914 152.906,52.686C152.906,52.526 152.883,52.229 152.883,50.973C152.883,50.79 152.952,50.699 153.135,50.676C153.797,50.584 154.893,50.379 156.446,50.151C156.926,50.059 156.994,49.991 156.994,49.488C156.994,48.392 156.926,48.301 156.492,47.638C156.149,47.113 155.852,47.022 153.706,47.022L153.317,47.022Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M167.455,49.854C167.455,51.544 167.501,53.188 167.569,54.992C167.615,55.769 169.328,56.888 169.556,56.888C169.807,56.888 172.571,55.883 174.512,55.746C174.855,55.723 174.969,55.586 174.969,55.426C174.969,55.267 174.878,53.439 174.512,53.234C173.621,52.754 173.005,52.663 171.909,52.503C171.429,52.434 171.223,52.366 171.223,52.115C171.223,50.105 171.246,48.597 171.246,47.09C171.246,45.4 171.201,43.733 171.201,42.043C171.201,41.768 171.269,41.403 171.269,41.243C171.269,40.969 170.789,40.786 170.104,40.489C169.465,40.215 169.099,40.124 168.323,40.124C167.934,40.124 167.546,40.558 167.546,40.992C167.546,41.403 167.592,41.997 167.592,44.281C167.592,46.131 167.455,48.186 167.455,49.854Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M179.697,56.888C180.336,56.888 181.341,56.728 181.341,56.477C181.341,55.221 181.387,53.919 181.387,52.663C181.387,52.001 181.341,50.607 181.341,47.159C181.341,45.56 181.364,44.007 181.364,42.431C181.364,41.951 181.433,41.654 181.433,41.175C181.433,40.923 181.158,40.809 180.496,40.558C179.788,40.307 179.194,40.124 178.76,40.124C177.87,40.124 177.504,40.398 177.504,40.923C177.504,41.197 177.618,41.426 177.618,43.093C177.618,44.235 177.504,47.57 177.504,49.237C177.504,51.338 177.596,53.394 177.596,56.066C177.596,56.226 177.824,56.34 178.326,56.523C178.532,56.591 178.829,56.888 179.697,56.888Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M197.42,42.065C197.42,41.403 197.283,41.335 196.369,40.878C195.57,40.489 193.834,40.124 193.4,40.124C193.012,40.124 192.875,40.17 192.875,40.741C192.875,41.038 192.281,42.979 192.007,44.167C191.779,45.126 191.505,47.524 191.231,47.524C191.002,47.524 191.071,46.336 190.728,45.034C190.386,43.733 190.294,41.723 190.043,41.631C189.746,41.517 187.691,40.992 186.914,40.992C186.023,40.992 185.384,41.472 185.384,42.225C185.384,44.235 185.201,45.743 185.201,50.379C185.201,53.576 185.224,54.399 185.292,55.175C185.338,55.678 185.361,55.906 185.589,56.089C186.023,56.431 187.371,56.888 187.873,56.888C188.376,56.888 188.49,56.797 188.49,56.5C188.49,49.808 188.216,47.73 188.216,47.478C188.216,47.067 188.307,46.907 188.399,46.907C188.536,46.907 188.627,47.044 188.741,48.026C188.97,49.922 189.883,54.536 190.134,54.787C190.386,55.061 191.413,55.244 192.007,55.244C192.236,55.244 192.578,53.142 192.715,52.754C192.921,52.229 193.537,49.488 193.971,46.953C194.04,46.565 194.108,46.222 194.245,46.222C194.337,46.222 194.36,46.496 194.36,46.862C194.36,47.524 193.949,53.988 193.949,56.066C193.949,56.591 195.661,56.888 196.21,56.888C197.169,56.888 197.237,56.728 197.26,56.317C197.329,54.878 197.42,52.434 197.42,48.483L197.42,42.065Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M203.381,56.888C204.021,56.888 205.026,56.728 205.026,56.477C205.026,55.221 205.071,53.919 205.071,52.663C205.071,52.001 205.026,50.607 205.026,47.159C205.026,45.56 205.048,44.007 205.048,42.431C205.048,41.951 205.117,41.654 205.117,41.175C205.117,40.923 204.843,40.809 204.181,40.558C203.473,40.307 202.879,40.124 202.445,40.124C201.554,40.124 201.189,40.398 201.189,40.923C201.189,41.197 201.303,41.426 201.303,43.093C201.303,44.235 201.189,47.57 201.189,49.237C201.189,51.338 201.28,53.394 201.28,56.066C201.28,56.226 201.508,56.34 202.011,56.523C202.216,56.591 202.513,56.888 203.381,56.888Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M216.765,42.705C216.765,42.111 216.582,41.494 216.285,41.015C215.737,40.124 216.034,40.17 214.869,40.124C213.682,40.124 210.781,40.444 209.593,40.626C208.406,40.809 207.515,40.969 207.515,41.472C207.515,42.271 207.744,43.025 207.903,43.596C207.995,43.961 208.497,43.893 209.89,44.007C210.164,44.03 210.233,44.052 210.233,44.897C210.233,45.743 210.187,46.702 210.187,48.78C210.187,50.881 210.233,52.32 210.233,53.051C210.233,53.85 210.187,54.604 210.187,55.472C210.187,55.997 210.621,56.157 211.078,56.271C212.471,56.637 212.814,56.888 213.042,56.888C213.293,56.888 213.842,56.5 213.842,56.249C213.842,52.046 213.887,49.739 213.887,48.689C213.887,45.423 214.001,44.464 214.001,44.007C214.001,43.824 214.413,43.778 215.052,43.618C216.194,43.344 216.765,43.299 216.765,42.705Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M222.68,47.022C222.384,47.022 222.269,46.953 222.269,46.679C222.269,46.222 222.315,45.354 222.384,44.578C222.406,44.326 222.475,44.281 222.703,44.281C223.069,44.281 225.49,44.03 226.586,43.893C226.769,43.87 226.814,43.801 226.814,43.596C226.814,42.751 226.677,42.317 226.358,41.563C225.969,40.695 224.69,40.626 223.206,40.626C221.744,40.626 220.214,40.672 219.277,40.672C219.049,40.672 218.935,40.786 218.935,41.472C218.935,43.139 218.615,47.455 218.615,51.407C218.615,52.32 218.638,53.211 218.661,54.33C218.684,55.152 219.072,55.838 219.392,56.089C219.894,56.477 220.488,56.888 220.808,56.888C221.15,56.888 223.937,56.249 225.581,56.066C226.609,55.952 226.746,55.883 226.746,55.7C226.746,54.718 226.655,54.421 226.084,53.713C225.467,52.937 225.398,52.868 224.759,52.868C223.571,52.868 222.863,52.937 222.543,52.937C222.338,52.937 222.269,52.914 222.269,52.686C222.269,52.526 222.247,52.229 222.247,50.973C222.247,50.79 222.315,50.699 222.498,50.676C223.16,50.584 224.256,50.379 225.809,50.151C226.289,50.059 226.358,49.991 226.358,49.488C226.358,48.392 226.289,48.301 225.855,47.638C225.513,47.113 225.216,47.022 223.069,47.022L222.68,47.022Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M235.242,47.364C235.242,48.438 234.968,49.671 234.466,50.607C233.94,51.567 233.621,52.275 233.187,52.594C233.187,50.744 233.392,46.473 233.392,45.948C233.392,45.423 233.346,45.08 233.346,44.76C233.346,44.509 233.415,44.418 233.621,44.418C233.986,44.418 234.351,44.852 234.808,45.56C234.991,45.834 235.242,46.519 235.242,47.364ZM233.483,56.888C233.849,56.888 234.831,56.271 235.859,55.152C237.914,52.914 239.033,51.087 239.033,48.095C239.033,46.816 238.6,45.217 238.029,44.007C236.727,41.312 233.712,40.398 231.222,40.398C230.514,40.398 230.035,40.558 229.966,41.175C229.692,43.207 229.601,46.291 229.601,49.42C229.601,50.744 229.738,53.028 229.738,55.152C229.738,56.134 230.743,56.249 231.588,56.317C232.022,56.34 233.027,56.888 233.483,56.888Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M248.283,56.226C248.283,56.728 249.699,57.573 250.613,57.573C251.047,57.573 251.458,57.505 251.504,57.368C251.641,57.002 251.915,54.627 252.189,53.576C252.212,53.485 253.262,53.371 253.833,53.371C254.222,53.371 254.678,53.485 255.135,53.371C255.204,53.805 255.798,55.975 255.912,56.157C256.049,56.386 256.369,56.523 257.351,56.523C258.104,56.523 259.086,56.294 259.086,55.632C259.086,55.312 257.807,48.643 257.305,43.778C257.077,41.746 256.94,41.426 256.414,41.106C256.072,40.901 253.354,40.124 252.326,40.124C251.846,40.124 251.641,40.284 251.527,40.649C250.59,43.824 248.283,53.691 248.283,56.226ZM252.783,50.105C252.783,49.876 253.308,47.752 253.422,46.245C253.536,45.126 253.605,44.92 253.742,44.92C253.879,44.92 253.97,45.034 253.97,45.88C253.97,46.519 254.427,49.694 254.427,50.082C254.427,50.265 253.673,50.31 253.399,50.31C253.011,50.31 252.783,50.265 252.783,50.105Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M266.966,47.364C266.966,48.438 266.692,49.671 266.189,50.607C265.664,51.567 265.344,52.275 264.91,52.594C264.91,50.744 265.116,46.473 265.116,45.948C265.116,45.423 265.07,45.08 265.07,44.76C265.07,44.509 265.139,44.418 265.344,44.418C265.71,44.418 266.075,44.852 266.532,45.56C266.715,45.834 266.966,46.519 266.966,47.364ZM265.207,56.888C265.573,56.888 266.555,56.271 267.583,55.152C269.638,52.914 270.757,51.087 270.757,48.095C270.757,46.816 270.323,45.217 269.752,44.007C268.451,41.312 265.436,40.398 262.946,40.398C262.238,40.398 261.759,40.558 261.69,41.175C261.416,43.207 261.325,46.291 261.325,49.42C261.325,50.744 261.462,53.028 261.462,55.152C261.462,56.134 262.467,56.249 263.312,56.317C263.746,56.34 264.751,56.888 265.207,56.888Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M279.048,56.888C279.87,56.888 279.87,54.467 281.104,49.762C282.223,45.468 283.296,41.266 283.296,40.969C283.296,40.215 282.314,39.576 280.784,39.576C279.893,39.576 279.756,39.69 279.642,40.467C279.528,41.266 278.705,44.966 278.477,46.245C278.18,47.958 277.838,50.562 277.678,50.562C277.472,50.562 277.426,49.328 277.426,48.894C277.426,48.209 277.152,46.039 277.084,45.24C276.947,43.641 276.353,41.449 276.056,41.152C275.828,40.923 274.777,40.672 274.023,40.672C273.041,40.672 272.859,40.786 272.859,41.06C272.859,42.636 274.434,51.863 275.394,55.472C275.531,55.997 276.65,56.157 277.198,56.249C278.043,56.386 278.409,56.888 279.048,56.888Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M289.508,47.022C289.212,47.022 289.097,46.953 289.097,46.679C289.097,46.222 289.143,45.354 289.212,44.578C289.234,44.326 289.303,44.281 289.531,44.281C289.897,44.281 292.318,44.03 293.414,43.893C293.597,43.87 293.642,43.801 293.642,43.596C293.642,42.751 293.505,42.317 293.186,41.563C292.797,40.695 291.518,40.626 290.034,40.626C288.572,40.626 287.042,40.672 286.105,40.672C285.877,40.672 285.763,40.786 285.763,41.472C285.763,43.139 285.443,47.455 285.443,51.407C285.443,52.32 285.466,53.211 285.489,54.33C285.512,55.152 285.9,55.838 286.22,56.089C286.722,56.477 287.316,56.888 287.636,56.888C287.978,56.888 290.765,56.249 292.409,56.066C293.437,55.952 293.574,55.883 293.574,55.7C293.574,54.718 293.483,54.421 292.912,53.713C292.295,52.937 292.226,52.868 291.587,52.868C290.399,52.868 289.691,52.937 289.371,52.937C289.166,52.937 289.097,52.914 289.097,52.686C289.097,52.526 289.075,52.229 289.075,50.973C289.075,50.79 289.143,50.699 289.326,50.676C289.988,50.584 291.084,50.379 292.637,50.151C293.117,50.059 293.186,49.991 293.186,49.488C293.186,48.392 293.117,48.301 292.683,47.638C292.341,47.113 292.044,47.022 289.897,47.022L289.508,47.022Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M298.37,57.345C299.375,57.345 299.763,56.797 299.763,55.929C299.763,53.051 299.626,50.265 299.626,49.762C299.626,49.58 299.672,49.557 299.741,49.557C299.832,49.557 300.768,52.32 302.847,55.929C303.166,56.477 304.011,56.614 305.085,56.614C305.816,56.614 306.067,56.431 306.067,56.043C306.067,55.86 305.999,55.609 305.999,55.381C305.999,54.924 306.113,53.439 306.113,40.878C306.113,40.467 305.268,40.124 304.423,40.124C302.824,40.124 302.641,40.261 302.641,41.038C302.641,45.925 302.732,47.159 302.732,47.844C302.732,48.506 302.71,48.597 302.641,48.597C302.481,48.597 300.882,43.71 300.86,43.185C300.814,42.271 300.471,41.883 299.923,41.723C299.124,41.494 298.873,41.175 297.502,41.175C297.023,41.175 296.566,41.54 296.566,42.339C296.566,42.499 296.612,42.728 296.612,42.888C296.612,45.012 296.429,48.301 296.429,50.31C296.429,51.27 296.452,54.17 296.543,56.477C296.566,57.094 298.073,57.345 298.37,57.345Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M317.418,42.705C317.418,42.111 317.235,41.494 316.939,41.015C316.39,40.124 316.687,40.17 315.523,40.124C314.335,40.124 311.434,40.444 310.247,40.626C309.059,40.809 308.168,40.969 308.168,41.472C308.168,42.271 308.397,43.025 308.557,43.596C308.648,43.961 309.15,43.893 310.544,44.007C310.818,44.03 310.886,44.052 310.886,44.897C310.886,45.743 310.84,46.702 310.84,48.78C310.84,50.881 310.886,52.32 310.886,53.051C310.886,53.85 310.84,54.604 310.84,55.472C310.84,55.997 311.274,56.157 311.731,56.271C313.124,56.637 313.467,56.888 313.695,56.888C313.947,56.888 314.495,56.5 314.495,56.249C314.495,52.046 314.54,49.739 314.54,48.689C314.54,45.423 314.655,44.464 314.655,44.007C314.655,43.824 315.066,43.778 315.705,43.618C316.847,43.344 317.418,43.299 317.418,42.705Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M323.082,43.047C323.082,42.773 323.219,42.499 323.219,42.088C323.219,41.814 323.014,41.631 322.466,41.243C322.009,40.946 321.347,40.672 320.661,40.672C319.839,40.672 319.428,41.129 319.428,41.974C319.428,44.144 319.291,44.943 319.291,45.788C319.291,46.359 319.245,47.57 319.245,50.744C319.245,53.325 320.113,54.49 321.392,55.335C322.214,55.86 323.722,56.888 324.75,56.888C325.435,56.888 326.691,56.386 327.262,55.838C328.495,54.65 329.043,52.686 329.043,50.767C329.043,49.831 328.998,47.889 328.998,45.354C328.998,42.956 329.135,42.385 329.135,41.631C329.135,41.357 328.747,41.083 328.107,40.672C327.49,40.261 327.102,40.124 326.371,40.124C325.458,40.124 325.092,40.489 325.092,41.152C325.092,41.7 325.161,44.052 325.161,46.085C325.161,48.872 325.069,50.447 325.024,50.881C324.841,52.64 324.361,53.371 323.699,53.371C323.197,53.371 322.991,52.754 322.968,52.16C322.945,51.43 322.9,50.676 322.9,49.945C322.9,47.821 323.082,46.542 323.082,44.875L323.082,43.047Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M332.492,55.084C332.492,56.089 333.109,56.226 333.474,56.386C334.159,56.683 334.753,56.888 335.233,56.888C335.781,56.888 336.009,56.683 336.009,56.157C336.009,54.81 336.055,54.01 336.055,53.622C336.055,52.937 336.009,52.526 336.009,52.229C336.009,51.909 336.032,51.841 336.146,51.841C336.329,51.841 337.151,53.005 338.065,54.102C339.07,55.335 340.714,56.888 341.377,56.888C341.719,56.888 342.519,55.792 342.519,55.381C342.519,54.855 342.245,54.284 341.491,53.097C340.92,52.183 339.755,50.653 339.755,50.173C339.755,49.762 342.633,47.821 342.633,45.423C342.633,43.641 341.263,42.362 341.011,41.814C340.372,40.467 337.859,40.124 336.877,40.124C336.055,40.124 334.73,40.421 334.342,40.558C333.863,40.741 332.561,40.946 332.561,41.517C332.561,42.088 332.492,42.636 332.492,44.075L332.492,55.084ZM339.207,44.441C339.207,46.085 336.466,48.232 336.261,48.232C336.169,48.232 336.146,48.163 336.146,48.004C336.146,46.633 336.192,45.468 336.238,44.281C336.261,43.801 336.352,43.39 336.923,43.39C337.243,43.39 337.585,43.322 337.905,43.322C338.59,43.322 339.207,43.596 339.207,44.441Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M349.142,47.022C348.845,47.022 348.731,46.953 348.731,46.679C348.731,46.222 348.777,45.354 348.845,44.578C348.868,44.326 348.937,44.281 349.165,44.281C349.53,44.281 351.951,44.03 353.048,43.893C353.23,43.87 353.276,43.801 353.276,43.596C353.276,42.751 353.139,42.317 352.819,41.563C352.431,40.695 351.152,40.626 349.667,40.626C348.206,40.626 346.675,40.672 345.739,40.672C345.511,40.672 345.396,40.786 345.396,41.472C345.396,43.139 345.077,47.455 345.077,51.407C345.077,52.32 345.1,53.211 345.122,54.33C345.145,55.152 345.533,55.838 345.853,56.089C346.356,56.477 346.95,56.888 347.269,56.888C347.612,56.888 350.398,56.249 352.043,56.066C353.07,55.952 353.207,55.883 353.207,55.7C353.207,54.718 353.116,54.421 352.545,53.713C351.928,52.937 351.86,52.868 351.22,52.868C350.033,52.868 349.325,52.937 349.005,52.937C348.799,52.937 348.731,52.914 348.731,52.686C348.731,52.526 348.708,52.229 348.708,50.973C348.708,50.79 348.777,50.699 348.959,50.676C349.622,50.584 350.718,50.379 352.271,50.151C352.751,50.059 352.819,49.991 352.819,49.488C352.819,48.392 352.751,48.301 352.317,47.638C351.974,47.113 351.677,47.022 349.53,47.022L349.142,47.022Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M355.834,45.491C355.834,49.602 360.265,50.47 360.265,52.503C360.265,53.005 359.968,53.462 359.306,53.462C358.438,53.462 357.638,52.252 357.067,51.567C356.907,51.384 356.816,51.338 356.405,51.338C356.131,51.338 354.852,51.978 354.852,52.412C354.852,52.777 355.172,53.165 355.286,53.622C355.491,54.444 357.387,56.888 360.174,56.888C362.617,56.888 364.239,54.65 364.239,52.389C364.239,48.803 359.351,48.186 359.351,45.583C359.351,44.738 359.854,43.778 360.288,43.778C360.448,43.778 360.539,43.87 360.562,44.167C360.653,45.468 360.722,46.062 361.11,46.519C361.43,46.862 362.937,47.044 363.211,47.044C364.216,47.044 364.353,46.131 364.353,45.194C364.353,43.481 364.056,41.883 362.001,41.129C360.996,40.764 360.311,40.124 359.808,40.124C359.214,40.124 358.369,40.695 357.57,41.426C356.885,42.043 355.834,43.39 355.834,45.491Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M373.489,49.602C373.489,51.795 374.128,53.439 374.905,54.627C375.681,55.815 376.527,56.614 377.874,56.614C378.285,56.614 378.536,56.637 378.833,56.728C379.107,56.82 379.404,56.888 379.861,56.888C380.592,56.888 381.62,56.249 382.373,55.084C383.561,53.234 384.292,51.041 384.292,48.346C384.292,46.862 383.995,44.464 382.99,43.002C382.054,41.609 381.597,41.197 380.455,40.809C379.29,40.421 378.148,40.124 377.828,40.124C376.344,40.124 375.499,41.883 374.768,43.481C374.106,44.875 373.489,47.159 373.489,49.602ZM377.326,49.717C377.326,47.204 378.719,43.504 379.107,43.504C379.975,43.504 380.455,46.154 380.455,47.387C380.455,49.602 379.747,53.599 378.536,53.599C377.988,53.599 377.326,52.8 377.326,49.717Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
<path d="M390.755,51.041C390.755,50.813 390.892,50.721 391.098,50.721C391.463,50.699 392.742,50.539 394.021,50.31C394.707,50.173 394.798,50.082 394.798,49.397C394.798,48.62 394.227,47.433 393.93,47.341C393.405,47.181 392.446,47.067 392.012,47.067C391.715,47.067 391.258,47.136 391.007,47.136C390.801,47.136 390.778,47.067 390.778,46.816C390.778,44.578 390.847,44.464 390.961,44.418C391.189,44.304 392.879,44.212 393.702,44.144C394.707,44.052 394.958,43.984 394.958,43.413C394.958,42.385 394.707,41.7 393.999,40.901C393.816,40.695 393.473,40.626 392.765,40.626C391.463,40.626 389.362,40.695 387.672,40.832C387.284,40.878 387.124,41.106 387.124,41.472C387.124,41.86 387.17,42.225 387.17,42.614C387.17,43.344 387.101,44.555 387.101,48.917C387.101,51.475 387.215,53.531 387.215,55.404C387.215,55.86 387.33,56.226 387.626,56.294C387.878,56.363 389.065,56.888 389.568,56.888C390.481,56.888 390.755,56.705 390.755,55.404L390.755,51.041Z" style="fill:rgb(85,80,69);fill-rule:nonzero;"></path>
</g>
<g id="mockey-mouse">
<image x="215" y="150" width="133" height="157" href="mockey.svg"></image>
</g>
</svg>
</lib-mouse-parallax><a href="/posts/web-components-and-slotted-element-interactions/mockey-demo.html" class="breakout-link">Open ↗</a></div></p>
<p>We're going to take a top-down look at how this effect has been produced, firstly let's introduce an SVG to the page.</p>
<div class="svg"><svg viewbox="0 0 520 390" style="background:#fdfad2">
    <circle id="outer" cx="260" cy="195" r="145" style="fill:#6bb46e;"></circle>
    <circle id="inner" cx="260" cy="195" r="96.667" style="fill:#ffcc03;"></circle>
    <circle id="center" cx="260" cy="195" r="48.333" style="fill:#fffdea;"></circle>
</svg></div>
<p>The SVG is included directly in the markdown:</p>
<pre><code class="language-html hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 520 390"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background:#fdfad2"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"outer"</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"260"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"195"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"145"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"fill:#6bb46e;"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"inner"</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"260"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"195"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"96.667"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"fill:#ffcc03;"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"center"</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"260"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"195"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"48.333"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"fill:#fffdea;"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<p>The three circles have ids of #outer, #inner and #center. By targeting those ids we can make the svg interactive with the use of a web-component name <code>lib-mouse-parallax</code>.</p>
<p><div class="custom"><lib-mouse-parallax speed="1" foreground="#center" middleground="#inner" background="#outer">
<svg viewbox="0 0 520 390" style="background:#fdfad2">
<circle id="outer" cx="260" cy="195" r="145" style="fill:#C7574D;"></circle>
<circle id="inner" cx="260" cy="195" r="96.667" style="fill:#ffcc03;"></circle>
<circle id="center" cx="260" cy="195" r="48.333" style="fill:#fffdea;"></circle>
</svg>
</lib-mouse-parallax></div></p>
<p>I see why Nurofen uses this as branding, it's headache inducing! Just take Ibuprofen, it's identical.</p>
<p>So how does our web-component make the SVG behave in this way, let's take a look at the mark-up.</p>
<pre><code class="language-html hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">lib-mouse-parallax</span>
    <span class="hljs-attr">speed</span>=<span class="hljs-string">"1"</span>
    <span class="hljs-attr">foreground</span>=<span class="hljs-string">"#center"</span>
    <span class="hljs-attr">middleground</span>=<span class="hljs-string">"#inner"</span>
    <span class="hljs-attr">background</span>=<span class="hljs-string">"#outer"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 520 390"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background:#fdfad2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"outer"</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"260"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"195"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"145"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"fill:#C7574D;"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"inner"</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"260"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"195"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"96.667"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"fill:#ffcc03;"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"center"</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"260"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"195"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"48.333"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"fill:#fffdea;"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">lib-mouse-parallax</span>&gt;</span>
</code></pre>
<p>As mentioned our three properties "foreground", "middleground" and "background" are just css selectors. The circles could equally be targeted with <code>nth-child(n)</code>:</p>
<pre><code class="language-html hljs language-xml">foreground="circle:nth-child(3)"
middleground="circle:nth-child(2)"
background="circle:nth-child(1)"
</code></pre>
<p>Lastly, the component accepts a speed setting to determine how fast the foreground (top layer) travels in relation to the mouse. Here we have it set to <code>1</code> meaning the centre circle will track the mouse exactly.</p>
<p>The component acts in three stages.</p>
<ol>
<li>Applies a css transform to svg elements matching a selector</li>
<li>On <em>mousemove</em> update the <code>--mouse-x</code> and <code>--mouse-y</code> variables</li>
<li>On <em>mouseleave</em> reset the position of the image</li>
</ol>
<p>Similar instruction occurs for touch events.</p>
<p>It's important to know that whilst web-components with a shadow-dom <em>do</em> encapsulate style there are some inherited properties. I believe the complete list is:</p>
<ul>
<li><code>color</code></li>
<li><code>direction</code></li>
<li><code>font-*</code> (eg font-family)</li>
<li><code>letter-spacing</code></li>
<li><code>line-height</code></li>
<li><code>text-*</code> (eg text-align)</li>
<li><code>visibility</code></li>
<li><code>word-spacing</code></li>
</ul>
<p>As well as these, css variables (<code>--var-name: value;</code>) are also inherited and that's something we'll be harnessing.</p>
<p>To move our shapes around we are using the css <code>translate(x, y)</code> function.</p>
<pre><code class="language-css hljs">SELECTOR {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(
      <span class="hljs-built_in">calc</span>(<span class="hljs-number">1px</span> * <span class="hljs-built_in">var</span>(--mouse-x, <span class="hljs-number">0</span>) * <span class="hljs-built_in">var</span>(--speed)),
      <span class="hljs-built_in">calc</span>(<span class="hljs-number">1px</span> * <span class="hljs-built_in">var</span>(--mouse-y, <span class="hljs-number">0</span>) * <span class="hljs-built_in">var</span>(--speed))
    );
}
</code></pre>
<p>Multiplying by 1px ensures our translation is applied in pixels. In the <a href="https://github.com/robstarbuck/lib.robstarbuck.uk/blob/main/src/components/mouse-parallax/style.ts" target="_blank">CSS</a> we have included the value three times. Multiplying by <code>0.25px</code>, <code>0.5px</code> and <code>1px</code> representing background, middleground and foreground respectively.</p>
<p>As we don't know what the css <code>SELECTOR</code> will be, we instead set the transform as a variable and apply it in JS later on.</p>
<pre><code class="language-css hljs"><span class="hljs-selector-pseudo">:host</span> {
<span class="hljs-attr">--set-foreground</span>: <span class="hljs-built_in">translate</span>(
    <span class="hljs-built_in">calc</span>(<span class="hljs-number">1px</span> * <span class="hljs-built_in">var</span>(--mouse-x, <span class="hljs-number">0</span>) * <span class="hljs-built_in">var</span>(--speed)),
    <span class="hljs-built_in">calc</span>(<span class="hljs-number">1px</span> * <span class="hljs-built_in">var</span>(--mouse-y, <span class="hljs-number">0</span>) * <span class="hljs-built_in">var</span>(--speed))
);
<span class="hljs-comment">/* other properties... */</span>
}
</code></pre>
<pre><code class="language-typescript hljs">element.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">"transform"</span>, <span class="hljs-string">"var(--set-foreground)"</span>);
</code></pre>
<p>All that's left now is to set <code>--mouse-x</code> and <code>--mouse-y</code> whenever mousemove fires within the component. We will also need to reset the values on <code>mouseleave</code> to restore the image to it's previous state.</p>
<pre><code class="language-typescript hljs">svg.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousemove"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_handleMove</span>);

svg.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mouseleave"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_resetPosition</span>);
</code></pre>
<p>Things get a little more complicated from here but this is really where the walk-through stops. In brief the complicated elements are:</p>
<p><strong><a href="https://github.com/robstarbuck/lib.robstarbuck.uk/blob/main/src/components/mouse-parallax/index.ts#L31-L45" target="_blank">Transform Correction</a></strong> Because we're moving between absolute values (the position of our mouse) and relative values (the viewport of our SVG) we need to correct for how much we adjust our <code>--mouse-x</code>. Without this adjustment the parallax effect would vary when the size of the svg changes. Adjusting for the SVG's viewport corrects this.</p>
<p><strong><a href="https://github.com/robstarbuck/lib.robstarbuck.uk/blob/main/src/components/mouse-parallax/index.ts#L82-L94" target="_blank">Easing</a></strong> To avoid the position of elements snapping as when triggered, we are gradually easing in the effect on each movement.</p>
<p>The web-component itself was rolled in Google's <a href="https://lit.dev/" target="_blank">Lit</a>, and developed using <a href="https://storybook.js.org/" target="_blank">Storybook</a> as an environment. Lit is a joy to work with as I imagine are many of <a href="https://github.com/web-padawan/awesome-web-components?tab=readme-ov-file#class-based" target="_blank">the libraries</a> available for developing web-components.</p>
<p>What I like about Lit is it's goal to align the api with that of native web-components. Oftentimes I found the documentation I needed on MDN rather than in the Lit docs. I'm a real advocate of using the platform, developing in Lit doesn't feel like bending to someone else's model (eg "Thinking in React"). I'm yet to try out other libraries, though many seem to share the approach of class based declarations with decorators for added functionality. I imagine porting from one to another would be relatively pain-free.</p>
<h2>Summary</h2>
<p>In dedication to the Rob of 2010, here's that the floating head of employboy marked up by our web-component.</p>
<p><div class="custom" style="--breakout-link-color: #0d95c0"><lib-mouse-parallax data-breakout-url="employboy-demo" data-breakout-class="full-page-svg" data-breakout-button-color="#0d95c0" foreground="#head" background="#backfill">
<svg viewbox="0 0 520 390" style="background: #17536f;">
<g id="head-backfill">
<g id="backfill">
<path d="M260,44.333C325.119,44.333 377.908,97.123 377.91,162.242C377.903,216.807 354.242,265.356 351.014,271.732C343.026,305.181 314.75,345.666 260.006,345.667C205.321,345.666 177.051,305.272 169.03,271.853C165.789,265.491 142.097,217.168 142.09,162.242C142.09,97.123 194.881,44.333 260,44.333Z"></path>
</g>
<g id="head">
<path id="skin" d="M260.006,337.111C210.528,337.11 184.474,300.536 177.198,269.218L177.115,268.859L176.944,268.532C175.87,266.48 150.652,217.633 150.646,162.242C150.646,133.032 162.021,105.572 182.675,84.918C203.329,64.263 230.791,52.889 259.999,52.889C289.208,52.889 316.67,64.263 337.324,84.918C357.978,105.572 369.353,133.032 369.354,162.242C369.346,217.296 344.164,266.369 343.092,268.431L342.923,268.756L342.84,269.113C335.59,300.481 309.546,337.11 260.006,337.111" style="fill:#fffdea;fill-rule:nonzero;"></path>
<path id="face" d="M285.119,228.033L319.141,228.033C319.284,228.033 319.424,227.976 319.525,227.874C319.625,227.774 319.683,227.634 319.683,227.492C319.682,217.809 311.832,209.937 302.148,209.936C292.465,209.937 284.578,217.807 284.576,227.492C284.576,227.635 284.635,227.774 284.736,227.874C284.836,227.976 284.976,228.033 285.119,228.033M200.856,228.033L234.88,228.033C235.025,228.033 235.161,227.977 235.263,227.874C235.365,227.773 235.422,227.637 235.422,227.492C235.421,217.809 227.569,209.937 217.887,209.936C208.202,209.937 200.315,217.807 200.314,227.492C200.314,227.635 200.372,227.774 200.473,227.875C200.573,227.976 200.712,228.033 200.856,228.033M322.673,304.647C309.383,321.35 288.924,334.231 260.006,334.236C231.089,334.231 210.629,321.35 197.337,304.647C184.05,287.946 177.983,267.395 177.988,252.22L177.986,243.787L184.384,243.787L184.385,254.492C184.385,259.612 188.535,263.762 193.655,263.762L242.068,263.762C247.191,263.762 251.341,259.612 251.341,254.492L251.341,241.009C251.488,240.276 251.894,239.706 252.512,239.218C254.395,237.708 258.259,237.382 259.993,237.398C261.15,237.396 263.143,237.495 264.92,237.989C266.716,238.483 268.19,239.359 268.586,240.734C268.619,240.84 268.637,240.915 268.647,240.958L268.647,254.492C268.648,259.612 272.798,263.762 277.918,263.762L326.331,263.762C331.452,263.762 335.604,259.612 335.604,254.492L335.604,243.785L342.015,243.785L342.022,252.22C342.027,267.395 335.96,287.946 322.673,304.647M245.573,240.902L245.573,254.492C245.569,256.428 244.004,257.992 242.068,257.996L193.655,257.996C191.722,257.992 190.154,256.427 190.151,254.492L190.151,240.902C190.154,238.969 191.722,237.402 193.655,237.4L242.068,237.4C244.004,237.402 245.569,238.969 245.573,240.902M329.833,240.902L329.833,254.492C329.83,256.428 328.266,257.992 326.331,257.996L277.918,257.996C275.981,257.992 274.416,256.428 274.413,254.492L274.413,240.852C274.435,238.945 275.997,237.399 277.918,237.4L326.331,237.4C328.266,237.402 329.83,238.968 329.833,240.902M177.977,195.873C190.947,198.881 202.938,200.185 214.018,200.185C249.711,200.187 275.926,186.652 294.975,173.144C304.499,166.391 312.241,159.642 318.479,154.602C324.7,149.546 329.495,146.264 332.758,146.303C334.413,146.317 335.721,147.043 336.934,148.93C338.736,151.762 340.039,157.209 340.841,165.93C341.65,174.654 341.989,186.662 341.989,202.701L342.013,238.017L335.146,238.017C333.933,234.309 330.447,231.633 326.331,231.632L277.918,231.632C275.201,231.632 272.756,232.802 271.063,234.661C267.994,232.276 263.593,231.638 259.993,231.631C256.368,231.638 252.005,232.301 248.953,234.691C247.257,232.812 244.799,231.632 242.068,231.632L193.655,231.632C189.542,231.633 186.055,234.309 184.843,238.017L177.986,238.017L177.977,195.873ZM260,50C198.01,50 147.757,100.252 147.757,162.241C147.764,218.621 173.338,267.872 174.384,269.871C181.714,301.42 208.239,339.999 260.006,340C311.828,339.999 338.359,301.334 345.655,269.764C346.703,267.749 372.236,218.242 372.243,162.241C372.242,100.252 321.989,50 260,50M288.881,297.99C284.696,300.045 279.125,300.465 272.722,300.462C268.755,300.462 264.47,300.306 260,300.306C255.527,300.306 251.243,300.462 247.275,300.462C240.871,300.465 235.3,300.045 231.117,297.99C227.075,295.997 224.241,292.541 222.994,286.2L297.004,286.2C295.757,292.541 292.922,295.997 288.881,297.99M304.765,278.565L215.236,278.565C214.953,278.565 214.717,278.782 214.695,279.064C214.692,279.116 214.693,279.143 214.693,279.149C214.695,304.129 235.015,324.453 260,324.454C284.985,324.453 305.305,304.127 305.307,279.146C305.305,279.142 305.307,279.129 305.307,279.106C305.307,278.961 305.25,278.826 305.148,278.724C305.046,278.62 304.91,278.565 304.765,278.565" style="fill:#142b3b;fill-rule:nonzero;"></path>
</g>
</g>
<style>
#backfill path {
fill: #0d95c0;
transition: fill 250ms;
}
#head-backfill:hover #backfill path {
fill: #ffcc03;
}
#head-backfill:active #backfill path {
fill: #ffffff;
transition: fill 0ms;
}
</style>
</svg>
</lib-mouse-parallax><a href="/posts/web-components-and-slotted-element-interactions/employboy-demo.html" class="breakout-link">Open ↗</a></div></p>
<p>Web-components are yet to take off in the way that I'd hoped. Whilst big orgs are using them, frameworks and libraries like React and Angular already determine how components are created and creating native web-components in these environments has little value.</p>
<p>It appears libraries like Lit are yet convince devs that it offers a complete solution for developing a site. Whether that's down to a lack of awareness or simply because other frameworks are so firmly ensconced I couldn't say. I hope we see a shift soon.</p>
<h2>Links</h2>
<ul>
<li><a href="https://github.com/robstarbuck/lib.robstarbuck.uk/tree/main" target="_blank">Source Code</a></li>
<li><a href="https://lit.dev/" target="_blank">Lit - Library for building native web components</a></li>
<li><a href="http://employboy.com/" target="_blank">Employboy - Old Portfolio Website</a></li>
<li><a href="https://www.theguardian.com/film/2023/dec/28/copyright-mickey-mouse-steamboat-willie" target="_blank">Mickey Mouse Copyright Expires</a></li>
</ul>

  </main>
  <footer>
    <a href="https://github.com/robstarbuck">
      <!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<svg width="100%" height="100%" viewbox="0 0 1501 406" version="1.1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" space="preserve" xmlns:serif="http://www.serif.com/" style="fill: #2b2031;fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(4.16667,0,0,4.16667,-449.617,-1.23749)">
        <path d="M177.281,41.988L147.014,41.988C146.233,41.988 145.6,42.622 145.6,43.403L145.6,58.201C145.6,58.982 146.233,59.618 147.014,59.618L158.821,59.618L158.821,78.003C158.821,78.003 156.17,78.907 148.84,78.907C140.193,78.907 128.113,75.747 128.113,49.183C128.113,22.614 140.692,19.118 152.501,19.118C162.724,19.118 167.127,20.918 169.93,21.785C170.811,22.055 171.625,21.178 171.625,20.397L175.001,6.099C175.001,5.733 174.877,5.293 174.461,4.994C173.323,4.182 166.38,0.297 148.84,0.297C128.634,0.297 107.908,8.894 107.908,50.219C107.908,91.545 131.638,97.704 151.635,97.704C168.192,97.704 178.236,90.628 178.236,90.628C178.65,90.4 178.695,89.821 178.695,89.556L178.695,43.403C178.695,42.622 178.062,41.988 177.281,41.988Z" style="fill-rule:nonzero;"></path>
    </g>
    <g transform="matrix(4.16667,0,0,4.16667,-449.617,-1.23749)">
        <path d="M333.265,5.249C333.265,4.462 332.641,3.826 331.859,3.826L314.817,3.826C314.039,3.826 313.406,4.462 313.406,5.249C313.406,5.253 313.411,38.183 313.411,38.183L286.846,38.183L286.846,5.249C286.846,4.462 286.22,3.826 285.44,3.826L268.399,3.826C267.624,3.826 266.991,4.462 266.991,5.249L266.991,94.427C266.991,95.213 267.624,95.853 268.399,95.853L285.44,95.853C286.22,95.853 286.846,95.213 286.846,94.427L286.846,56.282L313.411,56.282C313.411,56.282 313.364,94.424 313.364,94.427C313.364,95.213 313.996,95.853 314.776,95.853L331.858,95.853C332.639,95.853 333.263,95.213 333.265,94.427L333.265,5.249Z" style="fill-rule:nonzero;"></path>
    </g>
    <g transform="matrix(4.16667,0,0,4.16667,-449.617,-1.23749)">
        <path d="M209.44,16.951C209.44,10.815 204.521,5.856 198.451,5.856C192.387,5.856 187.463,10.815 187.463,16.951C187.463,23.081 192.387,28.054 198.451,28.054C204.521,28.054 209.44,23.081 209.44,16.951Z" style="fill-rule:nonzero;"></path>
    </g>
    <g transform="matrix(4.16667,0,0,4.16667,-449.617,-1.23749)">
        <path d="M208.222,93.564L208.222,34.45C208.222,33.669 207.591,33.03 206.812,33.03L189.823,33.03C189.044,33.03 188.347,33.833 188.347,34.615L188.347,93.592C188.347,95.325 189.427,95.84 190.824,95.84L206.13,95.84C207.81,95.84 208.222,95.016 208.222,93.564Z" style="fill-rule:nonzero;"></path>
    </g>
    <g transform="matrix(4.16667,0,0,4.16667,-449.617,-1.23749)">
        <path d="M398.032,33.164L381.121,33.164C380.346,33.164 379.714,33.803 379.714,34.59L379.714,78.316C379.714,78.316 375.417,81.46 369.319,81.46C363.222,81.46 361.604,78.693 361.604,72.722L361.604,34.59C361.604,33.803 360.974,33.164 360.197,33.164L343.033,33.164C342.259,33.164 341.624,33.803 341.624,34.59L341.624,75.609C341.624,93.344 351.508,97.683 365.105,97.683C376.261,97.683 385.255,91.52 385.255,91.52C385.255,91.52 385.683,94.768 385.877,95.153C386.07,95.537 386.575,95.925 387.121,95.925L398.04,95.877C398.814,95.877 399.449,95.237 399.449,94.453L399.443,34.59C399.443,33.803 398.812,33.164 398.032,33.164Z" style="fill-rule:nonzero;"></path>
    </g>
    <g transform="matrix(4.16667,0,0,4.16667,-449.617,-1.23749)">
        <path d="M437.584,81.406C431.718,81.227 427.739,78.565 427.739,78.565L427.739,50.325C427.739,50.325 431.664,47.919 436.48,47.489C442.57,46.943 448.438,48.783 448.438,63.31C448.438,78.63 445.79,81.653 437.584,81.406ZM444.254,31.161C434.649,31.161 428.116,35.446 428.116,35.446L428.116,5.249C428.116,4.462 427.486,3.826 426.71,3.826L409.619,3.826C408.842,3.826 408.211,4.462 408.211,5.249L408.211,94.427C408.211,95.213 408.842,95.853 409.621,95.853L421.479,95.853C422.013,95.853 422.417,95.578 422.716,95.096C423.011,94.617 423.436,90.984 423.436,90.984C423.436,90.984 430.424,97.607 443.653,97.607C459.185,97.607 468.092,89.729 468.092,62.241C468.092,34.753 453.866,31.161 444.254,31.161Z" style="fill-rule:nonzero;"></path>
    </g>
    <g transform="matrix(4.16667,0,0,4.16667,-449.617,-1.23749)">
        <path d="M257.202,33.022L244.418,33.022C244.418,33.022 244.399,16.137 244.399,16.133C244.399,15.494 244.069,15.174 243.33,15.174L225.91,15.174C225.232,15.174 224.869,15.473 224.869,16.123L224.869,33.576C224.869,33.576 216.139,35.683 215.548,35.853C214.961,36.024 214.528,36.566 214.528,37.213L214.528,48.18C214.528,48.968 215.158,49.604 215.937,49.604L224.869,49.604L224.869,75.989C224.869,95.585 238.615,97.51 247.89,97.51C252.129,97.51 257.199,96.149 258.036,95.84C258.542,95.654 258.836,95.13 258.836,94.561L258.851,82.497C258.851,81.71 258.186,81.073 257.437,81.073C256.691,81.073 254.787,81.376 252.825,81.376C246.545,81.376 244.418,78.457 244.418,74.678C244.418,70.901 244.417,49.604 244.417,49.604L257.202,49.604C257.98,49.604 258.612,48.968 258.612,48.18L258.612,34.443C258.612,33.656 257.98,33.022 257.202,33.022Z" style="fill-rule:nonzero;"></path>
    </g>
</svg>

      <time datetime="2025-10-16 16:45:33.000">Built 2025-10-16</time>
    </a>
  </footer>




</body></html>